# Proceedings

Этот репозиторий содержит скрипт для автоматической конвертации `.md` в `.docx`,
соответствующий требованиям форматирования Трудов Института системного
программирования РАН.

## How to use:

```bash
git clone https://github.com/ispras/proceedings-md
cd proceedings
npm install
sudo apt-get install pandoc
```

Файл `sample.md` содержит стандартный шаблон статьи для Трудов ИСП РАН,
представленный в `.md`-формате. Скрипт `src/main.js` выполняет конвертацию.

```
cd sample
node ../src/main.js sample.md sample.docx
````

## Нумерация и ссылки

Инструмент `proceedings-md` автоматически нумерует главы и элементы документа.
```Markdown
## Важная глава {#sec:secid}
<!-- Позднее: -->
В главе <span class=ref>sec:secid</span> рассмотрен важный вопрос.
```

Конструкция `<span class=ref>sec:secid</span>` будет заменена на номер главы с меткой
`#sec:secid`. В случае, если главы с такой меткой не существует, этой метке будет назначен
следующий свободный номер. Метки с отличающимися префиксами до двоеточия нумеруются
независимо.

```Markdown
Рис. <span class=ref>fig:fig1</span>. Геометрические фигуры
Рис. <span class=ref>fig:fig2</span>. Другие геометрические фигуры

Листинг <span class=ref>lst:lst1</span>. Пример листинга
Листинг <span class=ref>lst:lst2</span>. Другой пример листинга

Табл. <span class=ref>lst:tab1</span>. Пример таблицы
Табл. <span class=ref>lst:tab2</span>. Другой пример таблицы
```

Метки в подписях выше будут пронумерованы как:

- Рис. 1. Геометрические фигуры
- Рис. 2. Другие геометрические фигуры

- Листинг 1. Пример листинга
- Листинг 2. Другой пример листинга

- Табл. 1. Пример таблицы
- Табл. 2. Другой пример таблицы

## Notes

Скрипт несколько сырой. Ошибки могут быть нечитаемыми. Некоторые версии Microsoft Word
ругаются на то, что документ повреждён, но все равно открывают его. Перед отправкой
документа рекомендуется открыть документ в Word, перепроверить форматирование, и сохранить
заново.

Happy researching!